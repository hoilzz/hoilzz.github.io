---
layout: post
title: "세션과 쿠키 차이점(draft)"
description: "세션과 쿠키를 잘못 알고 있다."
tags:
  - "frontend"
  - "cookie"
  - "session"
comments: true
share: true
date: 2017-5-11
---

# 세션과 쿠키

쿠키와 세션은 서버에서 클라의 상태를 저장하는 수단이다.
쿠키는 항상 클라이언트에 데이터를 저장하는 점이 세션과 다른 점이다.
그런데, 서버에서 클라이언트의 상태를 저장하기 위한 수단이라면서 클라에 저장하면, 서버에서 그 데이터를 어떻게 확인할까?

서버와 클라 간 동작을 보면 알 수 있다.

...

서버가 클라에 저장한 쿠키는 다시 서버로 돌아와서 제역할을 할 수 있다.

`쿠키의 단점`은 클라에 저장되기 때문에 보안에 취약하다는 단점이 있다.
이러한 보안을 보완해 주는 것이 세션이다.

## 세션

세션은 서버와 클라의 대화성 통신 또는 대화성 통신을 유지하는 정보를 말한다.
무상태 프로토콜인 HTTP 기반에서 세션을 구현하기 위해

	클라이언트는 세션(session_key, client_id, session_cookie)를 쿠키에 저장하며,
	서버는 세션(session_state, client_state, session_data)를 저장소에 저장한다.

세션은 서버에 상태를 저장한다. 세션을 쿠키에 사용하기도 하지만 이것은 세션 스펙에 맞지 않는 사용법이다.
쿠키에 저장할 경우, 세션의 장점인 `보안`을 포기하게 된다.

### 세션 저장 방법

세션을 저장하는 방법은

	- 메모리
	- 파일
	- DB
	- 쿠키

메모리, 파일, DB는 서버측 / 쿠키는 클라측에 세션을 저장하는 방법이다.
만약 부하분산을 위해 한 도메인에 여러대의 서버를 운영한다면, 데이터베이스나 쿠키를 이용해야 한다.
(쿠키는 잘못된 방법이니 DB를 이용하자.)
메모리나 파일은 물리적으로 서버 간에 나누어져있기 때문에 세션이 유지될 수 없다.
