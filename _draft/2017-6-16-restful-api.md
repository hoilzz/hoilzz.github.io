# RESTful api

s/w 아키텍처의 한 형식으로 자원(resource)을 정의하고, 자원에 대한 주소를 지정하는 방법이다.

REST는 아키텍처다. Resource Oriented Architecture다. API 설계 중심에 자원이 있고 http Method를 통해 자원을 처리하도록 설계한다.

## 구성

- 자원(Resource) : URI
- 행위(Verb) : http method
- 표현(representations)


## REST의 특징

- Uniform : URI로 지정한 리소스에 대한 조작을 통일되고 한정적인 인터페이스로 수행하는 아키텍처 스타일을 뜻한다.
- Stateless : REST는 무상태성이다. 작업을 위한 상태정보를 따로 저장하지 않는다. 세션 정보나 쿠키 정보를 별도로 저장하고 관리하지 않기 때문에 API 서버는 들어오는 요청만 단순히 처리한다. 때문에 서비스 자유도가 높다.
- Cacheable : HTTP 웹표준을 따른다. 그래서 http가 가진 `캐싱`을 활용할 수 있다. `Last-Modifed`태그나 `E-tag`를 이용하면 캐싱 구현이 가능하다.
- client-server 구조 : 서버는 API 제공, 클라이언트는 사용자 인증 및 컨텍스트(세션, 로그인 정보)를 직접 관리하는 구조로 역할이 확실히 구분된다. 개발해야할 내용이 명확하고 의존성이 줄어든다.
- 계층형 구조

## API 디자인 가이드

가장 중요한 2가지

1. URI는 정보의 자원을 표현해야 한다.
2. 자원에 대한 행위는 HTTP Method(GET, POST, PUT, DELETE)로 표현한다.

### 1. 리소스와 행위를 명시적이고 직관적으로 분리

### 2. Message는 header와 body를 명확하게 분리하여 사용한다.

애플리케이션 서버가 행동할 판단의 근거가 되는 컨트롤 정보인 API 버전 정보, 응답받고자 하는 MIME 타입 등은 header에 담는다.



### 3. API 버전을 관리한다.

### 4. 서버와 클라가 같은 방식을 사용하여 요청을 보낸다.

브라우저는 form-data 형식, 서버는 json으로 보내기 보다는 플랫폼 중립을 위해 통일한다.

> http 응답코드
잘 설계된 rest api는 URI만 잘 설계된 것이 아닌, 그 리소스에 대한 응답을 잘 내어줘야 한다



## 장점

- Open API 제공 용이
- 멀티플랫폼 지원 및 연동 가능
- 원하는 타입으로 데이터 주고 받기 가능
- 기존 웹 인프라 (http) 그대로 사용 가능
- 각각의 요청에 독립적으로 반응하여 세션사용하지 않음

## 단점은?

- 사용할 수 있는 메서드 4가지밖에 없다.
- 분산환경에 부적합
- http 통신 모델에 대해서만 지원
