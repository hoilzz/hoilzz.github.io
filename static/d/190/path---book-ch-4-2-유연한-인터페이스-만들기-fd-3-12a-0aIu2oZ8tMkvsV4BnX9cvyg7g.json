{"data":{"site":{"siteMetadata":{"title":"hoilzz","author":"hoilzz","siteUrl":"","comment":{"disqusShortName":"","utterances":"hoilzz/hoilzz-blog"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"85d2fecb-eea0-56a7-b924-b7b160b3c754","excerpt":"4.3.4 어떻게해야하는지 말해주지 말고 어떤 것을 달라고 요구하기 송신자가 원하는 것을 요구하는 메시지 수신자가 어떻게 해야하는지 알려주는 메시지 이 두 종류를 구분하는 것이 매우 중요\n그래야 잘 정의된 퍼블릭 인터페이스를 가진, 재사용이 가능한 클래스를 만들기 위한 핵심 trips, bicycles, mechanics를 다루는 새로운 예시를 보자. 여행이 시작되려면 모든 자전거가 잘 정비되어 있는지 확인해야함 Trip은 자전거를 어떻게 준비해야 하는지 알고 있을 수도 있고 Mehcanic…","html":"<h3 id=\"434-어떻게해야하는지-말해주지-말고-어떤-것을-달라고-요구하기\"><a href=\"#434-%EC%96%B4%EB%96%BB%EA%B2%8C%ED%95%B4%EC%95%BC%ED%95%98%EB%8A%94%EC%A7%80-%EB%A7%90%ED%95%B4%EC%A3%BC%EC%A7%80-%EB%A7%90%EA%B3%A0-%EC%96%B4%EB%96%A4-%EA%B2%83%EC%9D%84-%EB%8B%AC%EB%9D%BC%EA%B3%A0-%EC%9A%94%EA%B5%AC%ED%95%98%EA%B8%B0\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.3.4 어떻게해야하는지 말해주지 말고 어떤 것을 달라고 요구하기</h3>\n<ul>\n<li>송신자가 원하는 것을 요구하는 메시지</li>\n<li>수신자가 어떻게 해야하는지 알려주는 메시지</li>\n</ul>\n<p>이 두 종류를 구분하는 것이 매우 중요\n그래야 잘 정의된 퍼블릭 인터페이스를 가진, 재사용이 가능한 클래스를 만들기 위한 핵심</p>\n<p>trips, bicycles, mechanics를 다루는 새로운 예시를 보자.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9a5e31ca5fbffabcbabea1b8d7a78cd9/5495d/ch4-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 101.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACB0lEQVQ4y4WU144CMQxF5/+/ihcEAiR4oIgieu+9g1fH0h1lh0UbySQTO9fXjehyudhms7Hdbmfb7dbP7Hxzvt1u9nq9XM7ns+tCOwn29/vdIj4AfTwe9nw+jcWOHA4HOx6Pfod+vV77jrzfbxfZ4gzQiB8MWNfr1UajkStZODqdTrETnOvMO2z1FnYOiJGYATifzx1IgCFDwmTBvFwuW61Wc1DpwYpDBpQ8oSBveNzv9zEgegBxKj27BDvsIwBms5n1ej0bDocu4/HYBoOB38sRAhiPEIgsFov4G9bYRnhfLpdOv9PpOAuSj8cwZwLWkoNwOaDypwLAsF6v22q18lCopBiGQmS8Sd5HUgJQrVYtl8s5KCFwj14Mw/DR0Q3Sa49kQJiVSsWy2aw1Gg1vAdgllxh/ZSh08oFHmHFW1fgOp4g0CFiAfzIUGxWEqufzeWdNGpBMJuOFA6jf77sjFUjMoxCdRUEmk4kzgzGPEVizi+10OnUbjV/MMEw0osrSuADTk0xDu932HXuBfK2yhIVngGhawqXy9GipVPKde1g2m03vjH9DZpYJiSoqbHKKcOYe9urbr0WRF6aGajJ26XTaCoWC76lUyorFYjx23W731yR9tI0YtlotDwvvYVHESK1EJLAOi/KRQ/WjWkh51Z9pstFxotx95FBCfkLWydGT6J87HEn2H+VhCrrE637eAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"img\"\n        title=\"\"\n        src=\"/static/9a5e31ca5fbffabcbabea1b8d7a78cd9/40fad/ch4-3.png\"\n        srcset=\"/static/9a5e31ca5fbffabcbabea1b8d7a78cd9/707e9/ch4-3.png 148w,\n/static/9a5e31ca5fbffabcbabea1b8d7a78cd9/649e0/ch4-3.png 295w,\n/static/9a5e31ca5fbffabcbabea1b8d7a78cd9/40fad/ch4-3.png 590w,\n/static/9a5e31ca5fbffabcbabea1b8d7a78cd9/5495d/ch4-3.png 700w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>여행이 시작되려면 모든 자전거가 잘 정비되어 있는지 확인해야함</p>\n<ul>\n<li>Trip은 자전거를 어떻게 준비해야 하는지 알고 있을 수도 있고</li>\n<li>Mehcanic에게 이 작업들을 요청할 수 있음</li>\n</ul>\n<p>위 그림은</p>\n<ul>\n<li>Trip의 퍼블릭 인터페이스는 bicycles 메서드를 포함</li>\n<li>Mechanic의 퍼블릭 인터페이스는 clean<em>bicycle, pump</em>tires, lube<em>chain, check</em>brakes 메서드를 포함</li>\n<li>Trip은 clean_bicycle, … 메서드를 가지고 있는 객체를 필요로 함</li>\n</ul>\n<p>위 설계의 문제점은</p>\n<ul>\n<li>\n<p>Trip은 Mechanic이 하는 세세한 작업을 다 알고 있음</p>\n<ul>\n<li>마치 Trip이 메인 프로그램</li>\n<li>Mechanic은 호출할 수 있는 함수 덩어리 같음</li>\n<li>자전거를 준비하려면</li>\n<li>Trip을 사용하거나</li>\n<li>중복 코드를 만들 수 밖에 없음</li>\n<li>Trip은 거대한 맥락속에 위치함</li>\n<li>Trip과 Mechanic은 서로 의존성이 너무 강함</li>\n</ul>\n</li>\n</ul>\n<p><strong>개선해보자(1)</strong></p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cfd05371c1633f4aa64e426d7ab820e5/948b8/ch4-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 97.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/klEQVQ4y3WUh44CMQxE9///DBBF9CYQQvTeOz49n2YVlsWSz7nEmYzHZqPL5WKbzca2261HOf+v12u7Xq/2er3s+Xza+XxOzdXe7XaziAWgXHg8Hoaxxvf7vR2PR9/jjItEzt7vt7tyT6eT5zuggIjD4dCZYEQSsfv97oB6kHvj8Ti+C7vdbvcJyKXZbOaMk4BiiMG6VqtZvV53UN2NAVWyyuY1JSRLRlOda008HA7/JbPR6XSs0WhYs9l0n0wmNhqN3KUXjQGES1wGHHY8KK3JjfgDWCaTsWKxaP1+P+7uarVyIHUZYBmMAcK0HwNiogxgq9Wy+XzuUoSAYaQyWKrTOotYYBwicj6ft16v5w8oMQkICOWjP8a+ZImUQHl0LpfLuQQqJ83IR5KfDNmkBEpEP9iVSiUrl8vOulqt+pq9SqUSMyOGgM4wKfhisXC2hULBstmsNwoZWNM4KqC7g8HAZ/arKUIWUwAZZr36y6bTqYMy/FSkO1EoOI4uAme/3W57k7rdrpdPyUiwXC59TtEbmZhdRumLoT4AeohfCw0icpFzIuxwyiePrscahoAIrXU4yEnTr4typWM8NiqZTYRGD8YCp/NpkcbxZWI6wln9YKiXEZyXKVMOc62RgNJZq7sxwxAQJymtVO0ponNyDr8Y6osiGUI50qKaF5b8B5jvB6VzyOuKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"img\"\n        title=\"\"\n        src=\"/static/cfd05371c1633f4aa64e426d7ab820e5/40fad/ch4-4.png\"\n        srcset=\"/static/cfd05371c1633f4aa64e426d7ab820e5/707e9/ch4-4.png 148w,\n/static/cfd05371c1633f4aa64e426d7ab820e5/649e0/ch4-4.png 295w,\n/static/cfd05371c1633f4aa64e426d7ab820e5/40fad/ch4-4.png 590w,\n/static/cfd05371c1633f4aa64e426d7ab820e5/948b8/ch4-4.png 720w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>위 그림은</p>\n<ul>\n<li>Trip의 퍼블릭 인터페이스는 bicycles 메서드를 포함</li>\n<li>Mechanic의 퍼블릭 인터페이스는 prepare_bicycle 메서드를 포함</li>\n<li>Trip에게는 prepare_bicycle 메서드를 가지고 있는 객체가 필요</li>\n</ul>\n<p>전 설계보다 개선된 점은</p>\n<ul>\n<li>\n<p>Trip은 여러 책임을 Mechanic에게 넘김</p>\n<ul>\n<li><strong>어떻게</strong> 와 관련된 책임이 모두 Mechanic에게 넘어감</li>\n<li>나중에 Mechanic을 보완하더라도 Trip은 언제나 원하는 결과를 얻음</li>\n</ul>\n</li>\n<li>\n<p>Mechanic에 포함된 퍼블릭 인터페이스 양이 줄음</p>\n<ul>\n<li>즉, 다른 객체가 의존할 수 있는 메서드 감소</li>\n<li>Mechanic이 퍼블릭 인터페이스 변경할 가능성 낮춤</li>\n</ul>\n</li>\n</ul>\n<p>하지만 문제는</p>\n<ul>\n<li>\n<p>Trip은 여전히 Mechanic에 대해 너무 많이 알고 있음</p>\n<ul>\n<li>즉, Trip은 불필요한 맥락에 있음</li>\n<li>언제나 prepare_bicycle 메서드에 반응하는 객체를 필요로 함</li>\n</ul>\n</li>\n</ul>\n<p><strong>개선해보자(2)</strong></p>\n<h3 id=\"435-주어진-맥락에서-독립적일-수-있게-하기\"><a href=\"#435-%EC%A3%BC%EC%96%B4%EC%A7%84-%EB%A7%A5%EB%9D%BD%EC%97%90%EC%84%9C-%EB%8F%85%EB%A6%BD%EC%A0%81%EC%9D%BC-%EC%88%98-%EC%9E%88%EA%B2%8C-%ED%95%98%EA%B8%B0\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.3.5 주어진 맥락에서 독립적일 수 있게 하기</h3>\n<p>Trip이 다른 객체에 대해 알고 있다는 사실이 맥락(context)을 구성</p>\n<ul>\n<li>Trip은 prepare_bicycle 메시지에 반응할 수 있는 Mechanic 객체를 필요로 함</li>\n<li>\n<p>즉, Trip을 사용하려면 특정 맥락을 필요로 함</p>\n<ul>\n<li>언제나 자전거를 준비해야하며</li>\n<li>Mechanic에게 언제나 prepare_bicycle 메세지를 전송해야 함</li>\n<li>이 메서드에 반응하는 Mechanic처럼 작동하는 객체 없으면 Trip 사용 불가</li>\n</ul>\n</li>\n</ul>\n<p>가능한 최고의 상황은</p>\n<ul>\n<li>자신의 맥락으로부터 완전히 독립하기</li>\n<li>\n<p>다른 객체가 누구인지, 그들이 뭘 하는지 전혀 모른 채로 협업할 수 있는 객체는 참신하게 재사용 가능</p>\n<ul>\n<li>누군지 모르는 객체와 협업하는 방법: 의존성 주입</li>\n</ul>\n</li>\n</ul>\n<p>일단 상황을 다시보자</p>\n<ul>\n<li>Trip이 Mechanic에게 Bicycle 준비하라고 요청하는 건 불가피</li>\n</ul>\n<p>이 문제에 대한 해결책은</p>\n<ul>\n<li>\n<p><strong>어떤 것</strong> 과 <strong>어떻게</strong> 사이의 구분</p>\n</li>\n<li>\n<p>Trip이 원하는 것을 정확히 보자.</p>\n<ul>\n<li><strong>자전거를 준비해야 한다 는 것은 Trip이 원하는 어떤 것이 아닌, Trip을 어떻게 준비해야 하는가 이다</strong></li>\n</ul>\n</li>\n<li>\n<p>prepare_trip(self): Trip은 Mechanic에서 자신이 원하는 것(여행을 준비해야함)만 말하고</p>\n<ul>\n<li>자기자신을 인자로 넘김</li>\n</ul>\n</li>\n<li>\n<p>이어서 Mechanic은 Trip을 호출하여 Trip이 원하는 bicycles 목록을 얻어옴</p>\n</li>\n</ul>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/08218eb47c5bf2601094ce5236a3b631/6d13b/ch4-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100.83798882681565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9ElEQVQ4y42U54oCQRCE9/1fS/2nCAomTJhzzmmOr46SuVsPrqHtSV1TXdNr8ng8wvV6DZfL5R3tzJ/Pp/z1eoX7/f5jz9HOuWSz2QR8t9vJT6dT2O/3GnvPgMvlMqzXa+35zHa71Xg+nwtUgLDESFqtVmLiOftEnGQidrvd5DZAU4DEVqsVjsej5jCLARljXJrP50OxWBQzDLYCpATQz+ezHHZESj8cDirRrCiZNS4kB2eOlovF4huQHxbtk8lECQASOcwlOACwZI3yucwX41SYUJb1wjjkW3u9Xshms6FUKoVqtRpyuZwi4J1OR2dt5OuVQWVAZHE2m71fjtuZl8tluRnBfDQavTUl1zg/ALFms6myYQkousGm2+3qMRDf2qJ1zE6A7jFHDrolcDPHKNXrg8EgDIdDjV0Nlip5Op2KiZsa5xI7DAFqNBpqsUKhIPaAkp8YyJTdd7HYnsdjpEDXTCYjYGQQ4KeSY5H/MhraD0MPwjBVMtGAXqO0SqWishjXajW1EREdx+Ox2AL6L0AYoCkM2KOlaCUA2+22QHlt+jbVNtYw/sv6ZLx2vV4XmEv9s238TVpHf3axs46GlGsg5yc+QD+xgE79fl/loQ3lxtH/ibSXXza+LFUyGsUt8skxPj8DxvkpQDP2PN7zeuy/z3wBpmgLMo47v88AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"img\"\n        title=\"\"\n        src=\"/static/08218eb47c5bf2601094ce5236a3b631/40fad/ch4-5.png\"\n        srcset=\"/static/08218eb47c5bf2601094ce5236a3b631/707e9/ch4-5.png 148w,\n/static/08218eb47c5bf2601094ce5236a3b631/649e0/ch4-5.png 295w,\n/static/08218eb47c5bf2601094ce5236a3b631/40fad/ch4-5.png 590w,\n/static/08218eb47c5bf2601094ce5236a3b631/6d13b/ch4-5.png 716w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>위 그림에서</p>\n<ul>\n<li>Trip의 퍼블릭 인터페이스는 bicycles를 포함</li>\n<li>Mechaninc의 퍼블릭 인터페이스는 prepare<em>trip, prepare</em>bicycle을 포함</li>\n<li>Trip은 prepare_trip 메서드에 반응할 수 있는 객체가 필요 (preparer)</li>\n<li>Mechanic은 prepare_trip의 인자로 bicycles에 반응할 수 있는 객체가 필요</li>\n</ul>\n<p><strong>어떻게 여행을 준비하는지에 대한 지식은 Mechanics에 고립</strong>, Trip이 속한 맥락은 줄어듬</p>\n<p>조금 더 나아가서,</p>\n<ul>\n<li>\n<p>Trip은 Mechanic같은 객체들을 배열에 담아 놓고 각각에게 prepare_trip 메세지를 전송 가능</p>\n<ul>\n<li>preparer(여행 준비 담당 객체)가 자신의 역할을 제대로 수행할거라고 믿어야함</li>\n</ul>\n</li>\n<li>\n<p>이런 패턴에 따르면 preparer를 추가해도 전혀 코드 수정할 필요 없음</p>\n<ul>\n<li>즉, Trip을 변경하지 않고 확장 가능</li>\n</ul>\n</li>\n<li>\n<p>나는 내가 원하는 것을 알고 있고, 네가 어떻게 해야하는지도 알고 있음</p>\n</li>\n<li>\n<p>나는 내가 원하는 것을 알고 있고, 네가 원하는 것도 알고 있음</p>\n</li>\n<li>\n<p>나는 내가 원하는 것을 알고 있고, 네가 주어진 역할을 잘 할거라고 알고 있음</p>\n</li>\n</ul>\n<h2 id=\"여기까지-요약해보자면\"><a href=\"#%EC%97%AC%EA%B8%B0%EA%B9%8C%EC%A7%80-%EC%9A%94%EC%95%BD%ED%95%B4%EB%B3%B4%EC%9E%90%EB%A9%B4\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>여기까지 요약해보자면</h2>\n<p>시퀀스 다이어그램을 이용하여 디자인을 고민한 결과</p>\n<ul>\n<li>퍼블릭 인터페이스를 정의하고</li>\n<li>새로운 객체를 찾음</li>\n</ul>\n<p>즉, 우리의 관심을 객체 => 메시지 로 옮기면서\n퍼블릭 이넡페이스를 기반으로 애플리케이션을 디자인할 수 있음</p>\n<h2 id=\"summary4-2-요약\"><a href=\"#summary4-2-%EC%9A%94%EC%95%BD\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary(4-2 요약)</h2>\n<p>메시지의 핵심은\n<strong>어떻게 해야하는지 말하지말고</strong>\n<strong>어떤 것을 달라고 요구하기</strong></p>\n<ul>\n<li>송신자가 원하는 것을 요구하는 메시지</li>\n<li>수신자가 어떻게 해야하는지 알려주는 메시지</li>\n</ul>\n<blockquote>\n<p>like. 손님: XX메뉴(라면) 주문할께요 (correct) / XX메뉴(라면)에 물을 먼저 냄비에 넣고, 끓을 때 스프를 넣고.. (wrong)</p>\n</blockquote>\n<hr>\n<p>위 예제의 개선 과정.\n일단 만들려는 거는 trips, bicycles, mechanics 객체를 통해\n여행을 시작하기 위해 모든 자전거가 잘 정비되어 있는지 확인하는것</p>\n<p>1번의 문제점</p>\n<ul>\n<li>\n<p>Trip이 Mechanic의 세세한 작업 다 알고 있음</p>\n<ul>\n<li>Trip은 거대한 맥락속에 위치하고 의존성이 너무 강함</li>\n</ul>\n</li>\n</ul>\n<p>2번의 개선점 및 문제점\n개선</p>\n<ul>\n<li>\n<p>Trip은 여러 책임을 Mechanic에게 넘김 (격리시킴)</p>\n<ul>\n<li>Mechanic을 보완하더라도 Trip은 언제나 원하는 결과 얻을 수 있음</li>\n</ul>\n</li>\n<li>\n<p>Mechanic의 퍼블릭 인터페이스 양이 줄음</p>\n<ul>\n<li>다른 객체가 의존할 수 있는 메서드가 감소</li>\n<li>퍼블릭 인터페이스 변경 가능성 낮아짐</li>\n</ul>\n</li>\n</ul>\n<p>문제점</p>\n<ul>\n<li>\n<p>Trip은 여전히 Mechanic에 대해 너무 많이 알고 있음</p>\n<ul>\n<li>즉, Trip은 여전히 불필요한 맥락에 있음</li>\n<li>언제나 prepare_bicycle메서드에 반응하는 객체를 필요로 함</li>\n</ul>\n</li>\n</ul>\n<p>3번의 개선점\n1,2번의 핵심 문제는 <strong>Trip이 다른 객체에 알고 있다는 사실이 맥락(context)을 구성</strong></p>\n<p>개선할 수 있는 방법</p>\n<ul>\n<li>맥락으로부터 완전히 독립하기</li>\n<li>\n<p>다른 객체가 누구인지, 그들이 뭘 하는지 전혀 모른 채로 협업하도록 변경</p>\n<ul>\n<li>이 방법 중 하나는 <strong>의존성 주입하기</strong></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"[루비로 배우는 객체지향 디자인] 4. 유연한 인터페이스 만들기(2)","date":"December 12, 2017"}}},"pageContext":{"slug":"/book/ch4-2-유연한-인터페이스-만들기/","previous":{"fields":{"slug":"/book/ch4-1-유연한-인터페이스-만들기/"},"frontmatter":{"title":"[루비로 배우는 객체지향 디자인] 4. 유연한 인터페이스 만들기","category":"book"}},"next":{"fields":{"slug":"/book/ch4-3-유연한-인터페이스-만들기/"},"frontmatter":{"title":"[루비로 배우는 객체지향 디자인] 4. 유연한 인터페이스 만들기(3)","category":"book"}}}}